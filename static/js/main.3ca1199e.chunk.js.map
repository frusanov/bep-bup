{"version":3,"sources":["App.js","index.js"],"names":["Plane","color","props","RoundedBox","receiveShadow","castShadow","smoothness","radius","envMapIntensity","Pixie","gltf","useLoader","GLTFLoader","uriPrefix","useState","rotata","setRotata","useEffect","lastRotata","intertval","setInterval","clearInterval","rotation","object","scene","Pixie2","Hack","zoom","set","useFrame","state","delta","camera","fov","THREE","damp","target","to","step","x","y","z","position","lookAt","updateProjectionMatrix","window","addEventListener","setTimeout","App","shadows","attach","args","intensity","fallback","scale","Text","fontSize","maxWidth","lineHeight","letterSpacing","textAlign","font","anchorX","anchorY","Math","PI","Environment","preset","BakeShadows","ReactDOM","render","document","getElementById"],"mappings":"wQAsBA,SAASA,EAAT,GAAqC,IAApBC,EAAmB,EAAnBA,MAAUC,EAAS,iBAClC,OACE,cAACC,EAAA,EAAD,yBAAYC,eAAa,EAACC,YAAU,EAACC,WAAY,GAAIC,OAAQ,MAAWL,GAAxE,aACE,sCAAsBD,MAAOA,EAAOO,gBAAiB,QAK3D,SAASC,EAAMP,GACb,IAAMQ,EAAOC,YAAUC,IAAYC,8BACnC,EAA4BC,mBAAS,GAArC,mBAAOC,EAAP,KAAeC,EAAf,KAaA,OAXAC,qBAAU,WACR,IAAIC,EAAa,EAEXC,EAAYC,aAAY,WAE5BJ,EADAE,GAA0B,OAEzB,IAAO,IAEV,OAAO,kBAAMG,cAAcF,MAC1B,IAGD,8CAAMG,SAAU,CAAC,EAAGP,GAAS,MAAWb,GAAxC,aACE,2BAAWqB,OAAQb,EAAKc,WAK9B,SAASC,EAAOvB,GACd,IAAMQ,EAAOC,YAAUC,IAAYC,gCAEnC,OACE,gDAAUX,GAAV,aACE,2BAAWqB,OAAQb,EAAKc,WAK9B,SAASE,IACP,MAAoBZ,oBAAS,GAA7B,mBAAOa,EAAP,KAAaC,EAAb,KAoBA,OAlBAC,aAAS,SAACC,EAAOC,GAEfD,EAAME,OAAOC,IAAMC,YAAgBC,KAAKL,EAAME,OAAOC,IAAKN,EAAO,EAAI,GADxD,EACkEI,GArDnF,SAAcK,EAAQC,EAAIC,EAAMP,GAAgC,2CAArB,IAAIG,UACzCE,aAAkBF,YACpBE,EAAOG,EAAIL,YAAgBC,KAAKC,EAAOG,EAAGF,EAAG,GAAIC,EAAMP,GACvDK,EAAOI,EAAIN,YAAgBC,KAAKC,EAAOI,EAAGH,EAAG,GAAIC,EAAMP,GACvDK,EAAOK,EAAIP,YAAgBC,KAAKC,EAAOK,EAAGJ,EAAG,GAAIC,EAAMP,IAmDvDI,CAAKL,EAAME,OAAOU,SAAU,CAACf,EAAO,GAAK,GAAIA,EAAO,EAAI,EAAGA,EAAO,EAAI,IAHzD,EAGoEI,GAEjFD,EAAME,OAAOW,OAAO,EAAG,EAAG,GAC1Bb,EAAME,OAAOY,4BAGf3B,qBAAU,WACR4B,OAAOC,iBAAiB,QAAQ,WAC9BC,YAAW,WACTnB,GAAI,KACH,YAIA,6BAGM,SAASoB,IACtB,OACE,eAAC,IAAD,CAAQC,SAAO,EAACjB,OAAQ,CAAEU,SAAU,CAAC,GAAI,EAAG,GAAIT,IAAK,GAArD,UACE,uBAAOiB,OAAO,aAAaC,KAAM,CAAC,aAClC,cAACzB,EAAD,IACA,kCAAkBgB,SAAU,CAAC,EAAG,EAAG,GAAIrC,YAAU,EAAC+C,UAAW,EAAG,oBAAmB,KACnF,eAAC,WAAD,CAAUC,SAAU,KAApB,UACE,cAAC5C,EAAD,CAAO6C,MAAO,GAAKZ,SAAU,CAAC,KAAO,IAAK,KAC1C,cAACjB,EAAD,CAAQ6B,MAAO,GAAIZ,SAAU,EAAE,IAAK,KAAM,IAAKpB,SAAU,CAAC,GAAI,IAAK,OACnE,cAACiC,EAAA,EAAD,CACEb,SAAU,EAAE,KAAM,GAAI,IACtBzC,MAAO,UACPuD,SAAU,EACVC,SAAU,GACVC,WAAY,EACZC,cAAe,IACfC,UAAW,OACXC,KAAK,uEACLC,QAAQ,SACRC,QAAQ,SAVV,mJAaA,wBAAOrB,SAAU,CAAC,GAAI,IAAM,GAA5B,UACE,cAAC1C,EAAD,CAAOC,MAAM,UAAU,cAAa+D,KAAKC,GAAK,EAAG,aAAY,EAAGX,MAAO,CAAC,EAAG,GAAI,MAC/E,cAACtD,EAAD,CAAOC,MAAM,UAAU,cAAa+D,KAAKC,GAAK,EAAGvB,SAAU,CAAC,EAAG,EAAG,GAAIY,MAAO,CAAC,IAAK,GAAK,QAE1F,cAACY,EAAA,EAAD,CAAaC,OAAO,cACpB,cAACC,EAAA,EAAD,U,MC5GRC,IAASC,OAAO,cAACtB,EAAD,IAASuB,SAASC,eAAe,W","file":"static/js/main.3ca1199e.chunk.js","sourcesContent":["// https://twitter.com/marcinignac/status/1288418586709630976\n\nimport * as THREE from 'three'\nimport React, { useState, useRef, Suspense, useEffect } from 'react'\nimport { Canvas, useFrame, useLoader } from '@react-three/fiber'\nimport { softShadows, BakeShadows, RoundedBox, Environment, useCursor, ContactShadows } from '@react-three/drei'\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader'\nimport { Text, CameraShake } from '@react-three/drei'\n\nconst isProd = process.env.NODE_ENV === 'production'\nconst uriPrefix = isProd ? '/bep-bup' : ''\n// Soft shadows are expensive, uncomment and refresh when it's too slow\n// softShadows()\n\nfunction damp(target, to, step, delta, v = new THREE.Vector3()) {\n  if (target instanceof THREE.Vector3) {\n    target.x = THREE.MathUtils.damp(target.x, to[0], step, delta)\n    target.y = THREE.MathUtils.damp(target.y, to[1], step, delta)\n    target.z = THREE.MathUtils.damp(target.z, to[2], step, delta)\n  }\n}\n\nfunction Plane({ color, ...props }) {\n  return (\n    <RoundedBox receiveShadow castShadow smoothness={10} radius={0.015} {...props}>\n      <meshStandardMaterial color={color} envMapIntensity={0.5} />\n    </RoundedBox>\n  )\n}\n\nfunction Pixie(props) {\n  const gltf = useLoader(GLTFLoader, uriPrefix + '/models/pixie.gltf')\n  const [rotata, setRotata] = useState(0)\n\n  useEffect(() => {\n    let lastRotata = 0\n\n    const intertval = setInterval(() => {\n      lastRotata = lastRotata + 0.01\n      setRotata(lastRotata)\n    }, 1000 / 60)\n\n    return () => clearInterval(intertval)\n  }, [])\n\n  return (\n    <mesh rotation={[0, rotata, -0.02]} {...props}>\n      <primitive object={gltf.scene} />\n    </mesh>\n  )\n}\n\nfunction Pixie2(props) {\n  const gltf = useLoader(GLTFLoader, uriPrefix + '/models/pixie.gltf?2')\n\n  return (\n    <mesh {...props}>\n      <primitive object={gltf.scene} />\n    </mesh>\n  )\n}\n\nfunction Hack() {\n  const [zoom, set] = useState(true)\n\n  useFrame((state, delta) => {\n    const step = 1\n    state.camera.fov = THREE.MathUtils.damp(state.camera.fov, zoom ? 8 : 42, step, delta)\n\n    damp(state.camera.position, [zoom ? 25 : 10, zoom ? 1 : 2, zoom ? 0 : 10], step, delta)\n\n    state.camera.lookAt(0, 2, 0)\n    state.camera.updateProjectionMatrix()\n  })\n\n  useEffect(() => {\n    window.addEventListener('load', () => {\n      setTimeout(() => {\n        set(false)\n      }, 1500)\n    })\n  })\n\n  return <></>\n}\n\nexport default function App() {\n  return (\n    <Canvas shadows camera={{ position: [25, 1, 0], fov: 2 }}>\n      <color attach=\"background\" args={['#a2b9e7']} />\n      <Hack />\n      <directionalLight position={[0, 8, 5]} castShadow intensity={1} shadow-camera-far={70} />\n      <Suspense fallback={null}>\n        <Pixie scale={0.1} position={[0.05, -1.1, 0]} />\n        <Pixie2 scale={20} position={[-60, -180, -40]} rotation={[0, -1.2, 0.25]} />\n        <Text\n          position={[-21.5, 5, -20]}\n          color={'#ff0f0f'}\n          fontSize={4}\n          maxWidth={20}\n          lineHeight={1}\n          letterSpacing={0.02}\n          textAlign={'left'}\n          font=\"https://fonts.gstatic.com/s/raleway/v14/1Ptrg8zYS_SKggPNwK4vaqI.woff\"\n          anchorX=\"center\"\n          anchorY=\"middle\">\n          С Днем Рождения! Бепа! Бупа!\n        </Text>\n        <group position={[0, -0.9, -3]}>\n          <Plane color=\"#ea5b3f\" rotation-x={-Math.PI / 2} position-z={2} scale={[5, 40, 0.2]} />\n          <Plane color=\"#f4ae00\" rotation-x={-Math.PI / 2} position={[0, 0, 0]} scale={[4.2, 0.2, 4]} />\n        </group>\n        <Environment preset=\"apartment\" />\n        <BakeShadows />\n      </Suspense>\n    </Canvas>\n  )\n}\n","import ReactDOM from 'react-dom'\nimport React from 'react'\nimport App from './App'\nimport './styles.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}